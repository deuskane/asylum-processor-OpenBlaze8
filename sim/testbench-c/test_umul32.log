
Picoblaze Assembler based on kpicosim  Version 1.0
Source File: /home/semai/Work/REPO_HOME/asylum/OpenBlaze8/tools/../sim/testbench-c/test_umul32.psm

Line  Addr Instr  Source Code
   1              ;--------------------------------------------------------
   2              ; File Created by SDCC : free open source ANSI-C Compiler
   3              ; Version 3.0.1 #6227 (Oct 27 2021) (Linux)
   4              ; This file was generated Wed Oct 27 11:55:24 2021
   5              ;--------------------------------------------------------
   6              ;--------------------------------------------------------
   7              ; global & static initialisations
   8              ;--------------------------------------------------------
   9              
  10  000  00f3f  	LOAD	sF, 3f
  11  001  34002  	JUMP	__sdcc_program_startup
  12              ;--------------------------------------------------------
  13              ; Home
  14              ;--------------------------------------------------------
  15              __sdcc_program_startup:
  16  002  30026  	CALL	_main
  17              ;	return from main will lock up
  18              __sdcc_loop:
  19  003  34003  	JUMP	__sdcc_loop
  20              ;--------------------------------------------------------
  21              ; code
  22              ;--------------------------------------------------------
  23              	;	/home/semai/Work/REPO_HOME/asylum/OpenBlaze8/tools/../sim/testbench-c/test_umul32.c:16: uint32_t umul32(uint32_t i0, uint32_t i1)
  24              _umul32:
  25  004  010b0  	LOAD	s0, sB
  26  005  011c0  	LOAD	s1, sC
  27  006  012d0  	LOAD	s2, sD
  28  007  013e0  	LOAD	s3, sE
  29              	;	/home/semai/Work/REPO_HOME/asylum/OpenBlaze8/tools/../sim/testbench-c/test_umul32.c:18: return i0*i1;
  30  008  18f01  	ADD	sF, 01
  31  009  074f0  	FETCH	s4, (sF)
  32  00a  18f01  	ADD	sF, 01
  33  00b  075f0  	FETCH	s5, (sF)
  34  00c  18f01  	ADD	sF, 01
  35  00d  076f0  	FETCH	s6, (sF)
  36  00e  18f01  	ADD	sF, 01
  37  00f  077f0  	FETCH	s7, (sF)
  38  010  2f7f0  	STORE	s7, (sF)
  39  011  1cf01  	SUB	sF, 01
  40  012  2f6f0  	STORE	s6, (sF)
  41  013  1cf01  	SUB	sF, 01
  42  014  2f5f0  	STORE	s5, (sF)
  43  015  1cf01  	SUB	sF, 01
  44  016  2f4f0  	STORE	s4, (sF)
  45  017  1cf01  	SUB	sF, 01
  46  018  01b00  	LOAD	sB, s0
  47  019  01c10  	LOAD	sC, s1
  48  01a  01d20  	LOAD	sD, s2
  49  01b  01e30  	LOAD	sE, s3
  50  01c  30048  	CALL	__mullong
  51  01d  010b0  	LOAD	s0, sB
  52  01e  011c0  	LOAD	s1, sC
  53  01f  012d0  	LOAD	s2, sD
  54  020  013e0  	LOAD	s3, sE
  55  021  01e30  	LOAD	sE, s3
  56  022  01d20  	LOAD	sD, s2
  57  023  01c10  	LOAD	sC, s1
  58  024  01b00  	LOAD	sB, s0
  59  025  2a000  	RETURN
  60              	;	/home/semai/Work/REPO_HOME/asylum/OpenBlaze8/tools/../sim/testbench-c/test_umul32.c:21: void main()
  61              _main:
  62              	;	/home/semai/Work/REPO_HOME/asylum/OpenBlaze8/tools/../sim/testbench-c/test_umul32.c:29: z = umul32(x,y);
  63  026  000ca  	LOAD	s0, ca
  64  027  2f0f0  	STORE	s0, (sF)
  65  028  1cf01  	SUB	sF, 01
  66  029  000de  	LOAD	s0, de
  67  02a  2f0f0  	STORE	s0, (sF)
  68  02b  1cf01  	SUB	sF, 01
  69  02c  000fe  	LOAD	s0, fe
  70  02d  2f0f0  	STORE	s0, (sF)
  71  02e  1cf01  	SUB	sF, 01
  72  02f  000ca  	LOAD	s0, ca
  73  030  2f0f0  	STORE	s0, (sF)
  74  031  1cf01  	SUB	sF, 01
  75  032  00bef  	LOAD	sB, ef
  76  033  00cbe  	LOAD	sC, be
  77  034  00dad  	LOAD	sD, ad
  78  035  00ede  	LOAD	sE, de
  79  036  30004  	CALL	_umul32
  80  037  010b0  	LOAD	s0, sB
  81  038  011c0  	LOAD	s1, sC
  82  039  012d0  	LOAD	s2, sD
  83  03a  013e0  	LOAD	s3, sE
  84              	;	/home/semai/Work/REPO_HOME/asylum/OpenBlaze8/tools/../sim/testbench-c/test_umul32.c:31: if (z == z_expected)
  85  03b  14096  	COMPARE	s0, 96
  86  03c  35445  	JUMP	NZ, _L00104
  87  03d  141ea  	COMPARE	s1, ea
  88  03e  35445  	JUMP	NZ, _L00104
  89  03f  142cd  	COMPARE	s2, cd
  90  040  35445  	JUMP	NZ, _L00104
  91  041  14367  	COMPARE	s3, 67
  92  042  35445  	JUMP	NZ, _L00104
  93              	;	/home/semai/Work/REPO_HOME/asylum/OpenBlaze8/tools/../sim/testbench-c/test_umul32.c:32: TEST_OK;
  94  043  000fa  	LOAD	s0, fa
  95  044  2c0e0  	OUTPUT	s0, e0
  96              _L00104:
  97              	;	/home/semai/Work/REPO_HOME/asylum/OpenBlaze8/tools/../sim/testbench-c/test_umul32.c:34: TEST_KO;
  98  045  000ed  	LOAD	s0, ed
  99  046  2c0e0  	OUTPUT	s0, e0
 100  047  2a000  	RETURN
 101              
 102              __mullong:
 103  048  18f01  	ADD	sF, 01
 104  049  076f0  	FETCH	s6, (sF)
 105  04a  18f01  	ADD	sF, 01
 106  04b  075f0  	FETCH	s5, (sF)
 107  04c  18f01  	ADD	sF, 01
 108  04d  074f0  	FETCH	s4, (sF)
 109  04e  18f01  	ADD	sF, 01
 110  04f  073f0  	FETCH	s3, (sF)
 111  050  00220  	LOAD	s2, 20
 112  051  00a00  	LOAD	sA, 00
 113  052  00900  	LOAD	s9, 00
 114  053  00800  	LOAD	s8, 00
 115  054  00700  	LOAD	s7, 00
 116              _LM0019:
 117  055  12b01  	TEST	sB, 01
 118  056  3505b  	JUMP	Z, _LM0018
 119  057  19730  	ADD	s7, s3
 120  058  1b840  	ADDCY	s8, s4
 121  059  1b950  	ADDCY	s9, s5
 122  05a  1ba60  	ADDCY	sA, s6
 123              _LM0018:
 124  05b  20a0e  	SR0	sA
 125  05c  20908  	SRA	s9
 126  05d  20808  	SRA	s8
 127  05e  20708  	SRA	s7
 128  05f  20e08  	SRA	sE
 129  060  20d08  	SRA	sD
 130  061  20c08  	SRA	sC
 131  062  20b08  	SRA	sB
 132  063  1c201  	SUB	s2, 01
 133  064  35455  	JUMP	NZ, _LM0019
 134  065  2a000  	RETURN
 135              ;--------------------------------------------------------
 136              ; interrupt vector 
 137              ;--------------------------------------------------------
