
Picoblaze Assembler based on kpicosim  Version 1.0
Source File: /home/semai/Work/REPO_HOME/asylum/OpenBlaze8/tools/../sim/testbench-asm/test_003_jump.psm

Line  Addr Instr  Source Code
   1              ; ;------------------------------------
   2              ; ; Test 003
   3              ; ; Multi Jump Incondionnel
   4              ; ;------------------------------------
   5              
   6              ; ;------------------------------------
   7              ; ; directive compilation fichier
   8              ; ;------------------------------------
   9              
  10              VHDL      "../ROM_blank_adh.vhd", "../../OpenBlaze8_ROM.vhd", "OpenBlaze8_ROM"
  11              
  12              ; ;------------------------------------
  13              ; ; Constantes
  14              ; ;------------------------------------
  15              sp                  EQU       sF
  16              
  17              test_val_ok         EQU       $FA
  18              test_val_ko         EQU       $ED
  19              
  20              ; ;------------------------------------
  21              ; ; directives pour le simulateur:  definition des  E/S
  22              ; ;------------------------------------
  23              switch_id           EQU       $00
  24              led_id              EQU       $20
  25              debug_id            EQU       $e0
  26              
  27              switch              DSIN      switch_id
  28              led                 DSOUT     led_id
  29              debug               DSOUT     debug_id
  30              
  31              ; ;------------------------------------
  32              ; ; MAIN
  33              ; ;------------------------------------
  34                                  ORG       $000
  35              main: 
  36  000  34004                      JUMP      saut1
  37  001  00eed                      LOAD      sE, test_val_ko
  38              
  39              saut3: 
  40  002  34008                      JUMP      saut4
  41  003  00eed                      LOAD      sE, test_val_ko
  42              
  43              
  44              saut1: 
  45  004  3400a                      JUMP      saut2
  46  005  00eed                      LOAD      sE, test_val_ko
  47              
  48              saut5: 
  49  006  343fc                      JUMP      test_ok
  50  007  00eed                      LOAD      sE, test_val_ko
  51              
  52              saut4: 
  53  008  34006                      JUMP      saut5
  54  009  00eed                      LOAD      sE, test_val_ko
  55              
  56              saut2: 
  57  00a  34002                      JUMP      saut3
  58  00b  00eed                      LOAD      sE, test_val_ko
  59              
  60              ; ;------------------------------------
  61              ; ; Test ok/ko
  62              ; ;------------------------------------
  63              test_ko:
  64  00c  00eed                      LOAD      sE, test_val_ko
  65  00d  2cee0                      OUT       sE, debug_id
  66  00e  3400c                      JUMP      test_ko
  67              
  68                                  ORG       $3FC
  69              test_ok: 
  70                                  LOAD      sE, test_val_ok
  71                                  OUT       sE, debug_id
  72                                  JUMP      test_ok
  73              
  74              ; ;------------------------------------
  75              ; ; Interrupt VECTOR
  76              ; ;------------------------------------
  77                                  ORG       $3FF
  78                                  RETI      ENABLE
